<% unless styles.empty? %>
  <div class="styles">
    <table class="table" id="style_list">
      <thead>
        <th> <%= t('.name') %> </th>
        <th> <%= t('.site') %> </th>
        <th> <%= t('.sites_followers') %> </th>
        <th style="text-align: center;"> <%= t('.publish') %> </th>
        <th> <%= t('.actions') %> </th>
      </thead>
      <tbody>
        <% styles.each do |style| %>
          <tr id="sort_style_<%= style.id %>" class="<%= style.publish ? "activated" : "deactivated" %>">
            <td> <%= link_to(style.name, site_admin_style_path(style)) %> </td>
            <td> <%= link_to style.owner.name, site_url(subdomain: style.owner), target: :_blank, title: style.owner.title %> </td>
            <td> 
              <% style.followers.each do |site| %>
                <%= link_to site.name, site_url(subdomain: site) %>
              <% end %>
            </td>
            <td style="text-align: center;"><%= raw toggle_field(style, "publish") %></td>
            <td class="style-action">
              <%= style_menu(style) %>
              <% with_permission(action: :sort) do %>
                <span class='handle'><%= icon('move', text: t("move")) %></span>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
<% else %>
  <div class="alert">
    <%= t('.no_own_styles') %>
  </div>
<% end %>

<%= content_for :javascripts, javascript_include_tag("jquery-ui.min") %>
<%= content_for :stylesheets, stylesheet_link_tag("sortable") %>
