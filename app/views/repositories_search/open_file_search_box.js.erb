var place = $(document.createElement("div"));
place.attr('id', 'file_search_box');

place.
html('<%= escape_javascript(render "repositories_search/file_search_box",
                            name: @name,
                            final_files_list: @final_files_list,
                            many: @many,
                            file_types: @file_types ) %>').show();

place.dialog({ 
  title: "<%= escape_javascript(params[:title]) %>",
  buttons:[{
    id: 'green-button',
    text: "<%= t('save') %>",
            click: function(){
              $(this).find('form#include-files-to-form').submit();
            }
  },
  {
    id: 'blue-button',
    text: "<%= t('remove', param: t('file.one')).capitalize %>",
            click: function(){
              $(this).find('input').removeAttr('checked');
              $(this).find('form#include-files-to-form').submit();
            }
  },
  {
    id: 'red-button',
    text: "<%= t('cancel') %>",
    click: function(){
      // remove() é necessário para remover os eventos.
      // Sem o remove não funciona na segunda vez que abre o dialog
      $(this).dialog('close').delay(1000).remove();
    }
  }],
});

set_jquery_ui();

$(".multiselect .file-search-box").width(180);
