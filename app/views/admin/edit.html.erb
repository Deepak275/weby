<fieldset>
  <legend><%= (t"editing", :param => (t"site.one")) %></legend>

  <%= simple_form_for @site, :url => admin_path do |f| %>
    <% if @site.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(@site.errors.count, "") %> <%= t"prohibited_being_saved", :count => @site.errors.count %>:</h2>
        <ul>
          <% @site.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <%= repository_search t("site.image"), "site_image",
      "site[top_banner_id]", @site.repository,
      multiple: false, file_types: 'image' %>

    <%= f.input :body_width, :label => t("body_width"), :hint => (t"example_param", :param => "960") %>
    <% unless @site.repository.nil? %>
      <%= f.input :top_banner_width, :label => t("top_banner_width"), :hint => (t"example_param", :param => "960") %>
      <%= f.input :top_banner_height, :label => t("top_banner_height"), :hint => (t"example_param", :param => "101") %>
    <% end %>
    <% if current_user.is_admin? %>
      <%= f.input :name, :label => t("name"), :hint => t("field_required") %>
    <% end %>
    <%= f.input :url, :label => "URL", :hint => (t("field_required") + " " + t("example_param", :param => "http://site.com")), :as => :url %>
    <%= f.input :per_page, :label => t("itens_per_page"), :hint => (t"example_param", :param => "15, 30, 50, 100, 250, 500") %>
    <%= f.input :per_page_default, :label => t("per_page_default") %>
    <%= f.input :description, :label => t("description"), :input_html => { :size => "55x8" }, :hint => t("site_comments"), :as => :text %>
    <%= f.input :footer, :label => t("footer"), :input_html => {:value => (@site.footer.nil? ? t("footer_text") : @site.footer), :class => "mceSimple", :size => "56x14"}, :as => :text %>
    <%= f.input :view_desc_pages, :label => t("view_desc_pages"), :hint => t("view_desc_pages_help"), :as => :boolean %>
    <%= f.input :menu_dropdown, :label => t("use_menu_dropdown"), :hint => t("desc_use_menu_dropdown"), :as => :boolean %>
    <%= f.input :theme, :collection => @themes.collect{|p| [p ,p]}, :prompt => "", :label => t('layout') %>

    <%= f.association :locales,
      :as => :check_boxes,
      :collection => Locale.all.map{|l| [image_tag("flags/24/#{l.flag}", :title=>t(l.name)), l.id] },
    :label => t('translation.other') %>

  <div class="actions">
    <%= f.submit (t"save"), class: "green-button" %>
    <%= link_to t("back"), :back, class: "red-button" %>
  </div>
<% end %>

</fieldset>

<div id="dialog-repository-search">
  <%= render('repositories/repository_search') %>
</div>

<%= content_for :javascripts, javascript_include_tag("admin.edit") %>
