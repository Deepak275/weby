<% content_for :javascripts, javascript_include_tag('photo_slider') %>
<% unless @site.repositories.nil? %>
  <% height  = component.height %>
  <% width   = component.width %>
  <% imagens = component.generate_vector_images %>
  <% speed = component.timer.to_i * 1000 %>

  <%= content_tag :section, class: "photo_slider", style: " width: #{width}px;" do  %>
    <div class="flex-container">
      <div id="slider"  class="flexslider" data-slideshowspeed="<%= speed %>">
        <ul class="slides">
          <% imagens.each do |image| %>

            <%=content_tag :li do  %>

              <%= image_tag image.archive.url,
                alt: image.description,
                title: image.description,
                style: "width: #{width}px; height: #{height}px;" %>

              <% if component.show_description? %>
                <%= content_tag :p,
                  class: "flex-caption" do %>
                  <%= image.description %>
                <% end %>
              <% end %>

            <% end %>
          <% end %>
        </ul>
      </div>
    </div>
  <% end %>
<% end %>

